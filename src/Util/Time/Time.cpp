/*
 * Time.cpp
 *
 *  Created on: 15.11.2017
 *      Author: aaron
 */

#include "Time.h"

enum
{
    maxSec = 59,
    maxMin = 59
};

//--------------------------------------------------------------
Time::Time( const int& pHour, const int& pMin, const int& pSec )
{
    initializeTimeAttributes(pSec, pMin, pHour);
}
//--------------------------------------------------------------


//--------------------------------------------------------------
void Time::initializeTimeAttributes(const int& pSec, const int& pMin,
                                    const int& pHour)
{
    sec = pSec % 60;

    int secOverflowBorder = maxSec + 1;
    min = (int) ((pSec / secOverflowBorder));
    min += pMin;

    int minOverflowBorder = maxMin + 1;
    int hourOverflow = min / minOverflowBorder;
    min = min % minOverflowBorder;

    hour = getAbsoluteValue(hourOverflow) + getAbsoluteValue(pHour);
    sec =  getAbsoluteValue(sec);
    min =  getAbsoluteValue(min);
}
//--------------------------------------------------------------


//--------------------------------------------------------------
int Time::getAbsoluteValue( const int& value )
{
    if (value < 0)
        return ( value * (-1) );
    else
        return value;
}
//--------------------------------------------------------------


//--------------------------------------------------------------
void Time::decSec()
{
    if( !isZero() )
    {
        if( getSec() == 0 )
        {
            sec = maxSec;
            decMin();
        }
        else
        {
            sec--;
        }
    }
}
//--------------------------------------------------------------


//--------------------------------------------------------------
void Time::incSec()
{
    if( getSec() == maxSec )
    {
        sec = 0;
        incMin();
    }
    else
    {
        sec++;
    }
}
//--------------------------------------------------------------


//--------------------------------------------------------------
void Time::decMin()
{
    if( !isZero() )
    {
        if( getMin() == 0 )
        {
            min  = maxMin;
            decHour();
        }
        else
            min--;
    }
}
//--------------------------------------------------------------


//--------------------------------------------------------------
void Time::incMin()
{
    if( getMin() == maxMin )
    {
        min = 0;
        incHour();
    }
    else
        min++;
}
//--------------------------------------------------------------


//--------------------------------------------------------------
void Time::decHour()
{
    if( getHour() != 0 )
        hour--;
}
//--------------------------------------------------------------


//--------------------------------------------------------------
void Time::incHour()
{
    hour++;
}
//--------------------------------------------------------------


//--------------------------------------------------------------
int Time::getSec() const
{
    return sec;
}
//--------------------------------------------------------------


//--------------------------------------------------------------
int Time::getOnesOfSec() const
{
    return (sec % 10);
}
//--------------------------------------------------------------


//--------------------------------------------------------------
int Time::getTensOfSec() const
{
    return (sec / 10);
}
//--------------------------------------------------------------


//--------------------------------------------------------------
int Time::getMin() const
{
    return min;
}
//--------------------------------------------------------------


//--------------------------------------------------------------
int Time::getOnesOfMin() const
{
    return (min % 10);
}
//--------------------------------------------------------------


//--------------------------------------------------------------
int Time::getTensOfMin() const
{
    return (min / 10);
}
//--------------------------------------------------------------


//--------------------------------------------------------------
int Time::getHour() const
{
    return hour;
}
//--------------------------------------------------------------


//--------------------------------------------------------------
bool Time::isZero() const
{
    return( (getMin()  == 0) &&
            (getSec()  == 0) &&
            (getHour() == 0) );
}
//--------------------------------------------------------------


//--------------------------------------------------------------
void Time::reset(const int& pHour, const int& pMin, const int& pSec)
{
    initializeTimeAttributes(pSec, pMin, pHour);
}
//--------------------------------------------------------------
